{% comment %}
  Custom head content for Randhawa Inc. website
  This file includes meta tags, fonts, favicons, and scripts for enhanced functionality and appearance.
{% endcomment %}

<!-- Fonts -->
<!-- Cormorant Garamond for main text and Courier Prime for code or monospace text -->
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Courier+Prime&display=swap" rel="stylesheet">

<!-- Favicons and device-specific icons -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
<link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="384x384" href="/android-chrome-384x384.png">

<!-- Application metadata -->
<meta name="application-name" content="Randhawa Inc.">
<meta name="apple-mobile-web-app-title" content="Randhawa Inc.">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<!-- Microsoft Tile -->
<meta name="msapplication-TileImage" content="/mstile-150x150.png">
<meta name="msapplication-TileColor" content="#da532c">

<!-- Theme color -->
<!-- Default theme color -->
<meta name="theme-color" content="#f8f4e9" id="theme-color-meta">
<!-- Light mode theme color -->
<meta name="theme-color" content="#f8f4e9" media="(prefers-color-scheme: light)">
<!-- Dark mode theme color -->
<meta name="theme-color" content="#1a1410" media="(prefers-color-scheme: dark)">

<!-- Preload critical assets -->
<link rel="preload" href="/assets/fonts/FleurCornerCaps.woff2" as="font" type="font/woff2" crossorigin>

<!-- PWA settings -->
<link rel="manifest" href="/manifest.json">

<!-- Main JavaScript file -->
<script src="{{ '/assets/js/main.js' | relative_url }}"></script>

<!-- Script to open external links in new tab -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var links = document.links;
    for (var i = 0, linksLength = links.length; i < linksLength; i++) {
      if (links[i].hostname !== window.location.hostname) {
        links[i].target = '_blank';
        links[i].rel = 'noopener noreferrer';
      }
    }
  });
</script>

<!-- Script for smooth color scheme transitions -->
<script>
  function applyTransitionClass() {
    document.body.classList.add('transition-colors');
  }

  function removeTransitionClass() {
    document.body.classList.remove('transition-colors');
  }

  function handlePageLoad() {
    applyTransitionClass();
    setTimeout(removeTransitionClass, 300);
  }

  document.addEventListener('DOMContentLoaded', handlePageLoad);
</script>

<!-- MathJax -->
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">
  <meta property="og:image" content="{{ site.url }}{{ site.baseurl }}/assets/images/og-image.jpg">
  <meta property="og:url" content="{{ page.url | replace:'index.html','' | absolute_url }}">
  <meta property="og:type" content="website">  